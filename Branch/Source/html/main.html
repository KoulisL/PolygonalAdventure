<!DOCTYPE html>
<html>
	<head>
		<meta charset=utf-8>
		<title>Polygonal Adventure</title>
		<style>
			body { margin: 0; }
			canvas { width: 100%; height: 100% }
		</style>
	</head>
	<body>
		<script src="..\js\three.js"></script>
		<script src="..\js\InitFunctions.js"></script>
		<script src="..\js\EventListener.js"></script>
		
		
		
		<script>
			/*******************************************************/
			/*					SCENE COMPONENTS                   */
			/*******************************************************/
		    var clock = new THREE.Clock();
			var scene = new THREE.Scene();
			var camera = new THREE.PerspectiveCamera( 100, window.innerWidth/window.innerHeight, 0.1, 100 );
			var meshes = [];
			var materials = [];
			var action = {}, mixer;
			var renderer = new THREE.WebGLRenderer({alpha: true} );
			var loader = new THREE.JSONLoader();
			var iWolf;
			var iLand;
			var bSkinning = false; //Flag variable to indicate if a model has bones or not.
			
			
			
			
			renderer.setSize( window.innerWidth, window.innerHeight );
			document.body.appendChild( renderer.domElement );


			camera.position.z = 10;
			camera.position.y = 10;
			
	
			/*******************************************************/
			/*					  Model Loading                    */
			/*******************************************************/
			bSkinning = true;			
			loadMesh('..\\..\\JSON\\wolf3.json');
			iWolf = 0;
			
			bSkinning = false;		
			loadMesh('..\\..\\JSON\\Land.json');			
			loadMesh('..\\..\\JSON\\YellowBalloon.json');
			loadMesh('..\\..\\JSON\\PurpleBalloon.json');
			loadMesh('..\\..\\JSON\\River.json');
			loadMesh('..\\..\\JSON\\LightHouse.json');
			loadMesh('..\\..\\JSON\\YellowHouse.json');
			loadMesh('..\\..\\JSON\\YellowHouse2.json');
			loadMesh('..\\..\\JSON\\BlueHouse.json');
			loadMesh('..\\..\\JSON\\BrownHouse.json');			
			loadMesh('..\\..\\JSON\\Bridge.json');
			loadMesh('..\\..\\JSON\\Windmill.json');			
			loadMesh('..\\..\\JSON\\BrownTree.json');
			loadMesh('..\\..\\JSON\\BrownTree2.json');			
			loadMesh('..\\..\\JSON\\PurpleTree.json');
			loadMesh('..\\..\\JSON\\PurpleTree2.json');
			loadMesh('..\\..\\JSON\\PurpleTree3.json');
			loadMesh('..\\..\\JSON\\GreenTree1.json');
			loadMesh('..\\..\\JSON\\GreenTree2.json');			
			loadMesh('..\\..\\JSON\\GreenTree3.json');
			loadMesh('..\\..\\JSON\\GreenTree4.json');
			loadMesh('..\\..\\JSON\\GreenTree5.json');
			loadMesh('..\\..\\JSON\\GreenTree6.json');
			loadMesh('..\\..\\JSON\\GreenTree7.json');
			loadMesh('..\\..\\JSON\\GreenTree8.json');
			loadMesh('..\\..\\JSON\\GreenTree9.json');
			loadMesh('..\\..\\JSON\\GreenTree10.json');
			loadMesh('..\\..\\JSON\\GreenTree11.json');
			loadMesh('..\\..\\JSON\\GreenTree12.json');
			loadMesh('..\\..\\JSON\\GreenTree13.json');
			loadMesh('..\\..\\JSON\\GreenTree14.json');
			loadMesh('..\\..\\JSON\\LittleBrownTree1.json');
			loadMesh('..\\..\\JSON\\LittleBrownTree2.json');
			loadMesh('..\\..\\JSON\\LittleBrownTree3.json');
			loadMesh('..\\..\\JSON\\LittleBrownTree4.json');
			loadMesh('..\\..\\JSON\\Plant1.json');
			loadMesh('..\\..\\JSON\\Plant2.json');
			loadMesh('..\\..\\JSON\\Plant3.json');
			
			initLights();
		    render();
			
			
			var audiolistener = new THREE.AudioListener();
			camera.add( this.audiolistener );

			var sound = new THREE.Audio( audiolistener );
			var audioLoader = new THREE.AudioLoader();
			audioLoader.load( '..\\..\\soundeffects\\starwars.mp3', function( buffer ) {
			sound.setBuffer( buffer );
			sound.setLoop(false);
			sound.setVolume(0.5);
			sound.play();
			});
			
		</script>
	</body>
</html>